---
layout: default
title: Getting started
category: Pepper
description: "User guide on howto get started using the Pepper corpus conversion framework."
---
	<article id="userGuide">
		<div class="page-header">
			<h1>User Guide</h1>
		</div>
		<div>
			The conversion process in Pepper is defined by a workflow. Such a workflow is normally stored in an xml file and is separated into three different
			phases: 
			<ul>
				<li>the import phase (mapping data from a given format to Salt),</li>
				<li>the optional manipulation phase (manipulating or enhancing data in Salt) and
					the</li>
				<li>export phase (mapping data from Salt to a given format).</li>
			</ul> The three-phase process makes it feasible to influence and manipulate data during
			conversion, for example by adding additional information or linguistic annotations, or by
			merging data from different sources. <br/> The import phase handles the mapping from a
			format <i>X</i> to Salt, the export phase handles the mapping from Salt to a format <i>Y</i>. During the
			manipulation phase, the data in Salt can be enhanced, reduced or manipulated. A phase is
			divided into several steps. Each step is done by exactly one module. A module handling an import phase step is called importer, a module handling a manipulation phase step is called manipulator and a module handling an export phase step is called exporter. The import and export phase must contain at least one step each, whereas the manipulation phase can contain any number of steps. Each Pepper module realizes
			exactly one step. 
		</div>
		<div style="text-align:center;margin-bottom:10px;margin-top:10px;">
			<img onclick="window.open('./images/pepper_workflow01.svg', 'popUpWindow', 'height=530,width=530,toolbar=no,menubar=no,location=no,directories=no, status=no,titlebar=no,location=no').focus();"
						class="enlarge" src="./images/pepper_workflow01.svg" style="width:60%;"
						alt="Pepper workflow importer -> exporter"/>
		</div>
			<p>
			A Pepper module can be identified by specifying
			its name or the format's name and version of the corpus to be converted.
			For instance the import of data in the EXMARaLDA format is done by a
			module called EXMARaLDAImporter and the export into the ANNIS format is done by a module called ANNISExporter. 
			</p>
		<div style="text-align:center;margin-bottom:10px;margin-top:10px;">
			<img onclick="window.open('./images/pepper_workflow02.svg', 'popUpWindow', 'height=530,width=530,toolbar=no,menubar=no,location=no,directories=no, status=no,titlebar=no,location=no').focus();"
						class="enlarge" src="./images/pepper_workflow02.svg" style="width:60%;"
						alt="Pepper workflow EXMARaLDAImporter -> ANNISExporter"/>
		</div>
			<p>
			The orchestration of Pepper modules can be persisted by the
			Pepper workflow description file (.pepper).</p>
			<p>The modules can be freely combined, e.g., we can exchange the EXMARaLDAImporter with the TigerImporter and still export the data to ANNIS. <strong>But</strong> you have to take care, that the target format can handle those data, otherwise they will be ignored. For instance converting data coming from the Tiger format to EXMARaLDA does not make a lot of sense, since EXMARaLDA can not handle syntax trees. Nevertheless, even such transformations are allowed in Pepper.</p>
			<p>As described above, a Pepper workflow contains three phases: the import phase, the manipulation phase and the export phase. During the manipulation phase you can choose modules ("manipulators"), for instance to enhance the data for further information, such as creating sentences.
			</p>
		<div style="text-align:center;margin-bottom:10px;margin-top:10px;">
			<img onclick="window.open('./images/pepper_workflow03.svg', 'popUpWindow', 'height=530,width=530,toolbar=no,menubar=no,location=no,directories=no, status=no,titlebar=no,location=no').focus();"
						class="enlarge" src="./images/pepper_workflow03.svg" style="width:60%;"
						alt="Pepper workflow with manipulator"/>
		</div>
		<p>A Pepper workflow can get very complex, for instance when multiple source formats are included, a long manipulation chain is used and/or the data shall be exported to multiple formats at once.
		</p>
		<div style="text-align:center;margin-bottom:10px;margin-top:10px;">
			<img onclick="window.open('./images/pepper_workflow04.svg', 'popUpWindow', 'height=530,width=530,toolbar=no,menubar=no,location=no,directories=no, status=no,titlebar=no,location=no').focus();"
						class="enlarge" src="./images/pepper_workflow04.svg" style="width:60%;"
						alt="Pepper workflow with merger"/>
		</div>
		<div>
		A Pepper workflow can be stored to a xml file. The structure of a workflow file is described in <a href="workflow_file">workflow file</a>. Some real life workflows can be found under <a href="..{{site.site_pepper}}demos.html">Demos</a>.
		</div>
	</article>

<article>
    <div class="page-header">
        <h1>First steps</h1>
    </div>
    <div class="content">
       To run Pepper open a command line and enter (for Windows):
        <pre>pepperStart.bat COMMAND</pre>
        or (for Linux, Unix and Mac OS):
        <pre>bash pepperStart.sh COMMAND</pre>
        Now Pepper starts the interactive command line and welcomes you with the prompt
        <pre>pepper></pre>
        To get a list of all available commands, enter 'help':
        <pre>pepper>help</pre>
        To get a list of all available modules, enter 'list':
        <pre>pepper>list</pre>
        To start a conversion with a predefined workflow, enter 'convert' followed by the workflow description file:
        <pre>pepper>convert myConversion.pepper</pre>
        To start the interactive conversion wizard, which helps you to define a workflow description, enter just 'convert':
        <pre>pepper>convert</pre>
    </div>
</article>
<article>
    <div class="page-header">
        <h2>Conversion Wizard</h2>
    </div>
    <div class="content">
		<p>To run a conversion process with Pepper, you need to define, which modules should be used. This is usually done in a workflow. Remember, the Pepper workflow is separated into three different
			phases: the import phase (mapping data from a given format to Salt), the optional manipulation phase (manipulating or enhancing data in Salt) and
					the export phase (mapping data from Salt to a given format).</p>
		<p>The conversion wizzard should help you to create a Pepper workflow, but you can also create such a workflow in an xml file as described in <a href="#workflow_file">workflow file</a>. The wizzard will guide you step by step through the creation of a workflow and will let you store the created workflow to disk when you are done. </p>
        <li>Enter the path of the corpus to import e.g. 'C:\myCorpus\':
        <pre>pepper/wizard/importer>C:\myCorpus\</pre>
        </li>
            <li>
        Now Pepper displays a list of all available importers and asks you to choose one of them.
        <pre>
+------+-------------------------------+------------------------------------------+
| no   | module name                   | format                                   |
+------+-------------------------------+------------------------------------------+
| * 1  | TextImporter                  | (txt, 0.0)                               |
|   2  | SaltXMLImporter               | (SaltXML, 1.0)                           |
|   3  | DoNothingImporter             | (doNothing, 0.0)                         |
        </pre>
        A '*' next to the number of the importer shows, that this importer is recommended. Recommended means that the passed path contains files in a format the importer is able to process. To choose an importer, just enter its number or its name.
        <pre>pepper/wizard/importer>1</pre>
        </li>
        <li>
        Some importers provide a list of properties to customize the import. If this is the case, Pepper displays a list of all available customization properties.
        <pre>
+----+-------------------------------+------------------------------------------+
| no | property name                 | description                              |
+----+-------------------------------+------------------------------------------+
| 1  | pepper.before.addSLayer       | Consumes a semicolon separated list of   |
|    |                               | names for {@link SLayer} objects. For    |
...
        </pre>
        To use a property, enter its number or name, followed by '=' and the value of the property.
        <pre>pepper/wizard/importer>1=anyValue</pre>
        <p>
        Pepper keeps asking you to enter further customization properties until you enter an empty line.
            </li>
            <li>
        Since it is possible to use more than one importer for one workflow, Pepper asks you to enter a further corpus path. To skip that just press 'enter'.
            </li>
				<li>
       In Pepper you have the possibility to manipulate the data between the im- and the export phase. Therefore Pepper displays a list of all available manipulators and asks you to enter the number or name of a manipulator. To skip adding a manipulator just press 'enter'.
            </li>
            <li>
        Also, manipulators can be customized. When the chosen manipulator provides properties for customization, Pepper displays them and asks you to enter such a property.
            </li><li>
        To skip adding further manipulators just press 'enter'.
            </li><li>
        Finally, choose an exporter. Pepper shows a list of all available exporters. To choose one of them enter its number or its name.
            </li><li>
       Again you have the chance to customize the export by adding some customization properties, if provided. To do so, enter the number or name of a property followed by '=' and the value.
            </li><li>
        Along with importers and manipulators, you can add more than one exporter. To stop adding exporters, enter an empty line.
            </li>
            <li>
        To save the workflow, enter 'save' followed by a path where to store the file (.pepper). 
        <pre>pepper/wizard>C:\myCorpus\myWorkflow.pepper</pre>
        A workflow file is stored as an xml file and is structured as described in <a href="#workflow_file">workflow file</a>.
            </li><li>
        To start the conversion enter 'start'.
        <pre>pepper/wizard>start</pre>
            </li>
            <li>
        To exit and abort the conversion, enter 'exit'.
        </li>
        </ol>
    </div>
</article>
<article class="anchor" id="configurtion">
    <div class="page-header">
        <h2>Configuring Pepper</h2>
    </div>
    <div class="content">
	<p>The Pepper home folder contains a folder named 'conf/', here you find two files to adapt the behavior of Pepper. First you can change the logging behavior by adapting the file logback.xml. The default configuration is configured using the INFO log level:</p>
	<pre>&lt;root level="info">
   ...
&lt;/root></pre>
	<p>
	A log level determines which types of log messages are printed. The hierarchy is the following (ascending): trace, debug, info, warn, error. That means, when setting the log level to info, warn and error messages are printed, but no trace and debug messages.
	</p>
	<p>
	Secondly, by adapting the file 'pepper.properties' you can change the processing behavior of Pepper. This file has a key-value notation, which mean an entry has a key, followed by the equal sign and the corresponding value. Here is an excerpt of that file:
	</p>
	<pre>
##########
# Determines where to find the plugins for Pepper $PEPPER_HOME points to the pepper home folder (this is not an environment variable)
##########
pepper.plugin.path=./plugins/

##########
# Determines if Pepper shall measure and display the performance of the used PepperModules
##########
pepper.computePerformance=true

##########
# The maximal number of currently processed SDocument-objects
########## 
pepper.maxAmountOfProcessedSDocuments=4

##########
# Determines if an SDocument-object shall be removed after it was processed by all PepperModules
########## 
pepper.removeSDocumentAfterProcessing=true
	</pre>
	</div>
</article>
<article class="anchor" id="workflow_file">
        <div class="page-header">
            <h2>Workflow File</h2>
        </div>
        <div class="content">
        In Pepper you have the chance to store a workflow in a workflow file (.pepper). This allows you to redo and reuse a configured workflow. You can also add this file to a version control system, to persist the details of how a corpus was processed. A workflow is stored in an xml file following the Pepper scheme. A workflow consists of three phases: import phase, manipulation phase and export phase. The notation of the workflow file follows this structure. To identify a Pepper module realizing a step, you have to describe that module by its name or the format's name and version. The following sample consists of three steps, one importer, one manipulator and one exporter:
        <pre>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;?xml-model href="https://korpling.german.hu-berlin.de/saltnpepper/pepper/schema/10/pepper.rnc" type="application/relax-ng-compact-syntax"?>
&lt;pepper-job version="1.0">
	&lt;importer formatName="FORMAT_NAME" formatVersion="FORMAT_VERSION" path="SOURCE_PATH">
		&lt;customization>
			&lt;property key="PROPERTY_NAME">PROPERTY_VALUE&lt;/property>
		&lt;/customization>
	&lt;/importer>
	&lt;manipulator name="MANIPULATOR_NAME">
		&lt;customization>
			&lt;property key="PROPERTY_NAME_1">PROPERTY_VALUE&lt;/property>
			&lt;property key="PROPERTY_NAME_2">PROPERTY_VALUE&lt;/property>
		&lt;/customization>
	&lt;/manipulator>
	&lt;exporter name="EXPORTER_NAME" path="TARGET_PATH"/>
&lt;/pepper-job>
        </pre>
        The importer - in contrast to the exporter - is identified by the format's name (FORMAT_NAME) and the format's version (FORMAT_VERSION). The exporter and the manipulator are identified by the module names (MANIPULATOR_NAME and EXPORTER_NAME). To customize the workflow, some modules provide a set of properties. A property consists of a name-value pair. A description of properties can be found on the modules site or when entering the command 'list' followed by the module name in the pepper console, for instance:
        <pre>pepper>list MANIPULATOR_NAME</pre>
        An importer and an exporter need a source or a target path to address where to find the corpus or where to store it. Such a path can be addressed relative or absolute. A relative path can start with './' for current directory or '../' for the parent directory, for instance:
        <pre>./corpus</pre>
        or
        <pre>../corpus</pre>
        An absolute path could start with the file scheme, e.g.:
        <pre>file:/C:/format1/corpus1/</pre>
        or
        <pre>file:///C:/format1/corpus1/</pre>
        or without any scheme:
        <pre>C:/format1/corpus1/</pre>
    </div>
    <p>Some real life workflows can be found under <a href="..{{site.site_pepper}}demos.html">Demos</a>.</p>
</article>
